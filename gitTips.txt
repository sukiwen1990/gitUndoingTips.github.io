有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了。（本来应该属于一次提交）
git commit --amend
最终你只会有一个提交——第二次提交将代替第一次提交的结果。
当你在修补最后的提交时，并不是通过用改进后的提交 原位替换 掉旧有提交的方式来修复的， 理解这一点非常重要。从效果上来说，就像是旧有的提交从未存在过一样，它并不会出现在仓库的历史中。
修补提交最明显的价值是可以稍微改进你最后的提交，而不会让“啊，忘了添加一个文件”或者 “小修补，修正笔误”这种提交信息弄乱你的仓库历史。
idea中提交时勾选右方的Amend commit

git rm 文件名 
从暂存区删除（不跟踪） 并从工作目录删除
如果要删除之前修改过或已经放到暂存区的文件，则必须使用强制删除选项 -f

把文件从 Git 仓库中删除（亦即从暂存区域移除），但仍然希望保留在当前工作目录中。让文件保留在磁盘，但是并不想让 Git 继续跟踪。
使用 git rm --cached README

取消暂存的文件（仍然跟踪，未暂存状态）
 git reset HEAD CONTRIBUTING.md

撤消对文件的修改（将它还原成上次提交时的样子）
 git checkout -- CONTRIBUTING.md
你对那个文件在本地的任何修改都会消失——Git 会用最近提交的版本覆盖掉它。

如果你仍然想保留对那个文件做出的修改，但是现在仍然需要撤消暂未完成的修改（比如临时需要打包部署之前已测试完的那部分代码），保存进度与分支通常是更好的做法。
Git 中任何 已提交 的东西几乎总是可以恢复的。 甚至那些被删除的分支中的提交或使用 --amend 选项覆盖的提交也可以恢复


